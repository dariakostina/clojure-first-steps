# :keyboard: Интерактивная среда

Настало время сделать следующий шаг &mdash; познакомиться с интерактивной средой Clojure!

## Начало работы

Начнём работу с интерактивной средой с помощью следующей команды:

``` bash
clojure
```

Первое, что мы увидим &mdash; версию Clojure:

```
Clojure 1.11.1
```

За ней &mdash; приглашение ко вводу:

```
user=>
```

Для начала вычислим простое арифметическое выражение:

``` clojure
user=> (+ 6 (* 6 6))
42
```

## Связывание

Clojure позволяет связывать символы со значениями с помощью особой формы `def`. Свяжем символ `x` со значением `0`:

``` clojure
user=> (def x 0)
#'user/x
user=> x
0
user=>
```

Тем не менее, в большинстве случаев символы лучше связывать в некоторой локальной области видимости с помощью
особой формы `let`:

``` clojure
user=> (let [x 1] (* x x))
1
user=> (* x x)
0
user=>
```

В первом случае мы вычислили квадрат значения, связанного с символом `x` в локальной области видимости с помощью
`let`. Во втором же случае &mdash; квадрат значения, связанного с символом `x` в глобальной области видимости с
помощью `def`.

## Условия

Для вычисления одного или другого выражения в зависимости от условия в Clojure применяют особую форму `if`:

``` clojure
user=> (let [n 42] (if (even? n) (/ n 2) (+ (* 3 n) 1)))
21
user=>
```

Кроме того, для проверки сложных условий удобно использовать особую форму `cond`. Проверим, является ли 1900 год
високосным:

``` clojure
user=> (let [y 1900] (cond (= (mod y 400) 0) true (= (mod y 100) 0) false (= (mod y 4) 0) true :else false))
false
user=>
```

## Функции

Определим функцию проверки года на високосность:

``` clojure
user=> (defn leap? [y] (cond (= (mod y 400) 0) true (= (mod y 100) 0) false (= (mod y 4) 0) true :else false))
#'user/leap?
user=> (leap? 2000)
true
user=> (leap? 1900)
false
user=> (leap? 2024)
true
user=> (leap? 2023)
false
user=>
```

## Завершение работы

Покинем интерактивную среду с помощью комбинации клавиш `Ctrl+D`.

[Предыдущий шаг](installation.md)

[Следующий шаг](first_program.md)
